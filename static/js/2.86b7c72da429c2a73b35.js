webpackJsonp([2],{531:function(t,e,a){a(569);var l=a(199)(a(540),a(561),"data-v-b335ef70",null);t.exports=l.exports},540:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{url:"./static/vuetable.json",tableData:[],cur_page:1,multipleSelection:[],select_cate:"open",select_word:"",del_list:[],is_search:!1}},created:function(){this.getData()},computed:{data:function(){var t=this;return t.tableData.filter(function(e){for(var a=!1,l=0;l<t.del_list.length;l++)if(e.name===t.del_list[l].name){a=!0;break}if(!a&&("all"===t.select_cate||t.select_cate===e.status)&&"卖出"===e.orderType)return t.$set(e,"isEditFlag",!1),e})}},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,e=this;e.$order.all(function(a){t.log(a),e.tableData=a;for(var l=0;l<e.tableData.length;l++)!function(a){var l=e.tableData[a];t.$user.getInfo(l.user,function(e){for(var a in e)t.$set(l,a,e[a])})}(l)})},search:function(){this.is_search=!0},formatter:function(t,e){return t.address},toTimeString:function(t,e,a){return this.$formatTime(t.ct)},filterTag:function(t,e){return e.tag===t},toggleStatus:function(t,e){"open"===e.status?(e.status="closed",this.$order.update({id:e.id,status:"closed"})):(e.status="open",this.$order.update({id:e.id,status:"open"}))},delAll:function(){var t=this,e=t.multipleSelection.length,a="";t.del_list=t.del_list.concat(t.multipleSelection);for(var l=0;l<e;l++)a+=t.multipleSelection[l].name+" ";t.$message.error("删除了"+a),t.multipleSelection=[]},handleSelectionChange:function(t){this.multipleSelection=t},orderStatus:function(t,e,a){return"open"===t.status?"未完成":"closed"===t.status?"已完成":t.status}}}},549:function(t,e,a){e=t.exports=a(88)(void 0),e.push([t.i,".handle-box[data-v-b335ef70]{margin-bottom:20px}.handle-select[data-v-b335ef70]{width:120px}.handle-input[data-v-b335ef70]{width:300px;display:inline-block}",""])},561:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v(" 订单管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("回收")])],1)],1),t._v(" "),a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"筛选完成状态"},model:{value:t.select_cate,callback:function(e){t.select_cate=e},expression:"select_cate"}},[a("el-option",{key:"1",attrs:{label:"全部",value:"all"}}),t._v(" "),a("el-option",{key:"1",attrs:{label:"未完成",value:"open"}}),t._v(" "),a("el-option",{key:"2",attrs:{label:"已完成",value:"closed"}})],1)],1),t._v(" "),a("p",{staticStyle:{"font-size":"12px","line-height":"30px",color:"#999"}},[t._v("Tips : 单击行启用编辑，完成保存。")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.data,border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"ct",label:"创建时间",sortable:"",formatter:t.toTimeString,width:"170"}}),t._v(" "),a("el-table-column",{attrs:{label:"书名",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,function(e){return a("p",{staticStyle:{"font-size":"12px","line-height":"20px"}},[t._v("\n                    "+t._s(e.title)+" : "+t._s(e.quantity)+"\n                ")])})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话",width:"125"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qq",label:"QQ",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dorm",label:"宿舍"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",formatter:t.orderStatus}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"closed"==e.row.status,expression:"scope.row.status == 'closed'"}],attrs:{size:"small"},on:{click:function(a){a.stopPropagation(),t.toggleStatus(e.$index,e.row)}}},[t._v("未完成\n                ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"open"==e.row.status,expression:"scope.row.status == 'open'"}],attrs:{size:"small",type:"danger"},on:{click:function(a){a.stopPropagation(),t.toggleStatus(e.$index,e.row)}}},[t._v("已完成\n                ")])]}}])})],1)],1)},staticRenderFns:[]}},569:function(t,e,a){var l=a(549);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(200)("51a04920",l,!0)}});